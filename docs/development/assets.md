# Assets, Images & Content

## Park and attraction images

### Where images live

- **Park backgrounds:** `public/images/parks/[parkSlug]/background.{jpg,jpeg,png,webp}`
- **Attraction images:** `public/images/parks/[parkSlug]/[attractionSlug].{jpg,jpeg,png,webp}` or `.../attractions/[attractionSlug].*`

Example: `public/images/parks/phantasialand/background.jpg`, `public/images/parks/phantasialand/taron.jpg`.

### Runtime lookup (server)

**`lib/utils/park-assets.ts`** (Node only, uses `fs`):

- **`getParkBackgroundImage(parkSlug)`** – Returns path to park background or `null`.
- **`getAttractionBackgroundImage(parkSlug, attractionSlug)`** – Tries park dir, then `.../attractions/`; returns `null` if not found.

Used by: park/attraction pages, OG image route, API route `api/parks/backgrounds`.

### Build-time manifest (attraction images)

**`lib/attraction-images.ts`** is **auto-generated**. It exports:

- **`ATTRACTION_IMAGES`** – `Record<string, string>` mapping `"parkSlug/attractionSlug"` → image path.
- **`getAttractionImage(parkSlug, attractionSlug)`** – Returns path or `null`.

Do not edit this file by hand. Regenerate with:

```bash
pnpm generate:attraction-images
```

Runs automatically in `prebuild` before `pnpm build`.

### Hero images (homepage & OG)

**`lib/hero-images.ts`** is **auto-generated** and exports **`HERO_IMAGES`** (array of image paths) from park backgrounds and attraction images. Used by:

- `components/layout/hero-background.tsx` – Random hero on homepage
- `app/[locale]/page.tsx` – Homepage hero
- `app/api/og/[...path]/route.tsx` – OG image fallback

Regenerate with:

```bash
pnpm generate:hero-images
```

Also runs in `prebuild`.

---

## Content and markdown

### Homepage announcements

Locale-specific markdown files in **`content/home/`**:

- `announce.en.md`, `announce.de.md`, `announce.nl.md`, `announce.fr.md`, `announce.es.md`

Each file can have YAML frontmatter and body. **`components/home/announce-section.tsx`** loads:

```ts
getMarkdownContent(`content/home/announce.${locale}.md`);
```

and renders the body with `react-markdown`. Used on the homepage to show a single announcement block.

### Markdown helper

**`lib/markdown.ts`**:

- **`getMarkdownContent<T>(relativePath)`** – Reads file from project root, parses with `gray-matter`, returns `{ frontmatter, content }` or `null` if missing/error.
- Path is relative to `process.cwd()` (e.g. `content/home/announce.en.md`).

---

## Related

- [Scripts](scripts.md) – `generate-hero-images`, `generate-attraction-images`
- [Backend Integration](../api/backend-integration.md) – App API Routes (OG, park backgrounds)
